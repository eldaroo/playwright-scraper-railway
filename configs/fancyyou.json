{
    "site_name": "FancyYou",
    "base_url": "https://fancyyou.com.ar",
    "use_predefined_urls": false,
    "categories_config": {
        "selector": ".category-tree__link a:not(.category-tree__toggle)",
        "attribute": "href",
        "base_path": "/categoria/"
    },
    "crawler_params": {
      "headless": true,
      "defaultViewport": { "width": 1280, "height": 800 },
      "args": [
        "--user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"
      ]
    },
    "pre_actions": [
      { "type": "waitForSelector", "selector": "div.product-list__item", "timeout": 15000 }
    ],
    "extraction_config": {
      "type": "json_css",
      "params": {
        "schema": {
          "name": "FancyYou - Categorías múltiples",
          "baseSelector": "div.product-list__item",
          "fields": [
            {
              "name": "title",
              "selector": "h3 a",
              "type": "text"
            },
            {
              "name": "sku",
              "selector": "small.sku",
              "type": "text"
            },
            {
              "name": "price",
              "selector": ".product-price span.price:not(.old)",
              "type": "text",
              "transform": "return data.replace(/[^\\d,\\.]/g, '').trim().replace(/(\\.00|,00)$/, '');"
            },
            {
              "name": "price_original",
              "selector": ".product-price span.price.old",
              "type": "text",
              "transform": "return data.replace(/[^\\d,\\.]/g, '').trim().replace(/(\\.00|,00)$/, '');"
            },
            {
              "name": "image",
              "selector": ".aspect-ratio-image-product img",
              "type": "attribute",
              "attribute": "src",
              "transform": "return data.startsWith('/') ? 'https://fancyyou.com.ar' + data : data;"
            },
            {
              "name": "url",
              "selector": "h3 a",
              "type": "attribute",
              "attribute": "href",
              "transform": "return data.startsWith('/') ? 'https://fancyyou.com.ar' + data : data;"
            },
            {
              "name": "category",
              "selector": "div.single-product",
              "type": "attribute",
              "attribute": "data-mkt-item-list-name",
              "transform": "return data.replace('Catálogo | Category: ', '').replace('Catálogo | Texto: ', '').trim();"
            },
            {
              "name": "discount_percentage",
              "selector": ".sticker.discount span",
              "type": "text",
              "transform": "return data.replace(/[^\\d]/g, '');"
            }
          ]
        },
        "verbose": true
      }
    },
    "cache_mode": "bypass",
    "semaphore_count": 2,
    "verbose": true
}